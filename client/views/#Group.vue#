<template>
  <div class="container">
    <div class="group-title">
      <input type="text" @input="updateName" :value="name" :width=""/>
      <b-icon icon="pencil" pack="fa" class="is-medium" />
    </div>
    <photo-list :photos="photos"/>
  </div>
</template>

<script>
import { mapState } from 'vuex'
import store, { FETCH_GROUP, UPDATE_GROUP_NAME } from '@/store'
import PhotoList from '@/components/PhotoList'

export default {
  mounted: function() {
    store.dispatch(FETCH_GROUP, this.groupId)
  },
  props: ['groupId'],
  computed: mapState({
    name: state => (state.group ? state.group.name : ''),
    photos: state => (state.group ? state.group.photos : []),
  }),
  components: {
    PhotoList,
  },
  methods: {
    updateName(e) {
      store.dispatch(UPDATE_GROUP_NAME, e.target.innerText)
    },
  },
}
</script>

<style scoped>
.group-title input {
  display: inline-block;
  font-size: 2em;
  border: none;
  border-bottom: 1px dashed #404040;
}

.title .icon {
  color: #a0a0a0;
  margin-bottom: 3px;
  }
</style>
